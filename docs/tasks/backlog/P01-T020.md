# P01-T020: Create Internal Folder Structure

**Phase:** P01 - Project Foundation & Setup  
**Status:** Not Started  
**Priority:** High  
**Dependencies:** P01-T010  
**Estimated Effort:** Small (< 30 minutes)

---

## Description

Create the standard Go project internal folder structure following best practices. This establishes the foundation for organizing project code into logical packages: API handlers, database layer, job management, worker logic, and configuration.

The `internal/` directory pattern prevents external packages from importing these internal components, enforcing proper encapsulation.

---

## Acceptance Criteria

- [ ] Directory `go/internal/` exists
- [ ] Directory `go/internal/api/` exists (API handlers, routes, middleware)
- [ ] Directory `go/internal/database/` exists (SQLite connection, sqlc generated code)
- [ ] Directory `go/internal/jobs/` exists (Job manager, batch allocation logic)
- [ ] Directory `go/internal/worker/` exists (PC worker implementation)
- [ ] Directory `go/internal/config/` exists (Configuration management)
- [ ] All directories are committed to repository

---

## Implementation Notes

**Commands to run:**

```bash
cd go/
mkdir -p internal/{api,database,jobs,worker,config}
```

**Directory structure after completion:**
```
go/
├── go.mod
└── internal/
    ├── api/        # HTTP server, handlers, routes, middleware
    ├── database/   # SQLite connection, sqlc queries
    ├── jobs/       # Job manager, dynamic batching logic
    ├── worker/     # PC worker scanning engine
    └── config/     # Configuration loading (env/file)
```

**Key Points:**
- Follow the `internal/` package pattern (prevents external imports)
- Each folder represents a logical domain boundary
- Reference: SDD "Project Directory Structure" section
- Keep folder names lowercase and singular

---

## Testing

**How to verify this task is complete:**

1. **Verify folder structure:**
   ```bash
   tree go/internal/
   ```

2. **Expected output:**
   ```
   go/internal/
   ├── api
   ├── config
   ├── database
   ├── jobs
   └── worker
   ```

3. **Verify from repository root:**
   ```bash
   ls -la go/internal/
   ```

---

## References

- **SDD:** `docs/architecture/system-design-document.md` (Project Directory Structure)
- **Copilot Instructions:** `.github/copilot-instructions.md` (Section 2: Go Code Style)
- **Related Tasks:** 
  - P01-T010: Initialize Go module (must complete first)
  - P02-T050: Implement database connection (will use `internal/database/`)
  - P03-T010: Implement config loader (will use `internal/config/`)

---

## Notes

- Empty directories may not be tracked by Git; consider adding `.gitkeep` files if needed
- This structure follows standard Go project layout conventions
- Additional subdirectories can be added later as needed (e.g., `internal/api/handlers/`, `internal/api/middleware/`)
