# P07-T020: Configure Kconfig.projbuild for Menuconfig integration

**Phase:** P07 - ESP32 Worker - Core Infrastructure  
**Status:** Not Started  
**Priority:** High  
**Dependencies:** P07-T010  
**Estimated Effort:** Small

---

## Description

Create `Kconfig.projbuild` file to integrate project-specific configuration options into ESP-IDF's menuconfig system. This allows WiFi credentials and Master API URL to be configured at build time.

## Acceptance Criteria

- [x] `Kconfig.projbuild` file created in project root
- [x] WiFi SSID configuration option defined
- [x] WiFi password configuration option defined
- [x] Master API URL configuration option defined
- [x] Options appear in `pio run -t menuconfig`
- [x] Generated `sdkconfig` contains defined values

## Implementation Notes

**File:** `esp32/Kconfig.projbuild`

```kconfig
menu "EthScanner Configuration"

    config ETHSCANNER_WIFI_SSID
        string "WiFi SSID"
        default "myssid"
        help
            SSID (network name) for the ESP32 to connect to.

    config ETHSCANNER_WIFI_PASSWORD
        string "WiFi Password"
        default "mypassword"
        help
            WiFi password (WPA or WPA2) for the network.

    config ETHSCANNER_API_URL
        string "Master API URL"
        default "http://192.168.1.100:8080"
        help
            Base URL for the Master API server (without trailing slash).
            Example: http://192.168.1.100:8080

    config ETHSCANNER_WORKER_ID
        string "Worker ID"
        default "esp32-001"
        help
            Unique identifier for this worker device.

endmenu
```

**Usage in code:**
```c
#include "sdkconfig.h"

const char* wifi_ssid = CONFIG_ETHSCANNER_WIFI_SSID;
const char* wifi_pass = CONFIG_ETHSCANNER_WIFI_PASSWORD;
const char* api_url = CONFIG_ETHSCANNER_API_URL;
const char* worker_id = CONFIG_ETHSCANNER_WORKER_ID;
```

**Configuration workflow:**
```bash
cd esp32
pio run -t menuconfig    # Opens configuration menu
# Navigate to "EthScanner Configuration" and set values
pio run                  # Build with new configuration
```

## Testing

- Run `pio run -t menuconfig` and verify "EthScanner Configuration" menu appears
- Set test values for WiFi SSID, password, and API URL
- Build project and verify no errors
- Check `sdkconfig` file contains `CONFIG_ETHSCANNER_*` entries

## References

- SDD: `docs/architecture/system-design-document.md`
- ESP-IDF Kconfig: https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/kconfig.html
- Related tasks: P07-T030 (WiFi implementation will use these configs)
