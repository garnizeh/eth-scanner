# P08-T130: Long-haul Stress Test

**Phase:** P08 - ESP32 Worker - Crypto & Computation  
**Status:** Not Started  
**Priority:** High  
**Dependencies:** P08-T120, P04-T050  
**Estimated Effort:** Medium

---

## Description

Perform a long-duration stress test of the ESP32 worker running against a real Master API instance. The goal is to ensure stability over 30-60 minutes of continuous scanning, verify the lease renewal/completion cycle, and test resilience by simulating hardware resets during the process.

## Acceptance Criteria

- [ ] Worker runs continuously for at least 30-60 minutes without crashes or watchdog triggers.
- [ ] Master API correctly handles multiple checkpoint updates from the worker.
- [ ] Simulate at least 2 manual hardware resets (via EN button) and verify the worker resumes from the last NVS checkpoint and continues the same job.
- [ ] Verify that upon job completion, the worker successfully requests a new lease and starts a new prefix/nonce range.
- [ ] Serial monitor shows consistent "Keys/sec" and successful "HTTP 200/204" responses from Master API.

## Implementation Notes

- Start the Master API in the Go terminal (`go run cmd/master/main.go`).
- Use `pio device monitor` to track serial output in real-time.
- Ensure the worker is configured with the correct Master API URL in `menuconfig`.

## Testing

- Monitor the Master API database (`jobs` table) to verify `current_nonce` and `status` updates.
- Observe the serial logs for stability and recovery messages.

## References

- SDD: Job Lifecycle.
- OVERVIEW: Dual-Core Logic.
