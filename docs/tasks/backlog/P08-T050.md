# P08-T050: Implement Job Lease logic on Core 0 (Inter-task signaling via Task Notifications).

**Phase:** P08 - ESP32 Worker - Crypto & Computation  
**Status:** Not Started  
**Priority:** High  
**Dependencies:** P08-T040  
**Estimated Effort:** Medium

---

## Description

Implement the logic to lease a new job from the Master API within the Core 0 task and signal the computational task (Core 1) when new work is available.

## Acceptance Criteria

- [ ] Core 0 task detects when a job is needed (e.g., startup or previous job complete).
- [ ] Core 0 successfully calls `lease_job` via `api_client`.
- [ ] Core 0 updates the global `job_info_t` structure.
- [ ] Core 0 uses `xTaskNotify` (or similar) to wake up or signal the Core 1 task.
- [ ] Handle "No Content (204)" responses with appropriate backoff.

## Implementation Notes

- Use the global state `g_state` for sharing job data.
- Ensure thread safety when writing to `g_state.current_job`.
- Use a state flag (e.g., `g_state.job_active`) for signaling.

## Testing

- Mock API server or use `esp-mock-api` to test the lease flow.
- Verify Core 0 logs the successful receipt of a new prefix and nonce range.

## References

- SDD: API Contract section.
- OVERVIEW: Dual-Core Logic section.
