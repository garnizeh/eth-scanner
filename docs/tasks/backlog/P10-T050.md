# P10-T050: Implement "Active Workers" component (HTMX swap on WebSocket message)

**Phase:** P10 - Dashboard & Monitoring UI  
**Status:** Not Started  
**Priority:** High  
**Dependencies:** [P10-T040]  
**Estimated Effort:** Medium

---

## Description

Create the real-time workers list. This component will use HTMX's WebSocket extension to swap out fragments of the table whenever a worker starts, checkpoints, or stops.

## Acceptance Criteria

- [ ] Define the `active_workers.html` fragment (SSR table).
- [ ] Connect the WebSocket broadcast to the HTML ID of the workers table.
- [ ] Implement the server-side logic to fetch active workers from `worker_history` (Tier 1).
- [ ] Add "last seen", "current throughput", and "active prefix" columns.
- [ ] Use HTMX "swap" behavior to update specific rows when possible or the entire table for simplicity.

## Implementation Notes

- Use `hx-ws="connect:/api/v1/ws"` in the layout.
- Use `ws-receive` in the workers list element.
- The server will send a full HTML row or table fragment when a broadcast is triggered.

## Testing

- Open a dashboard instance.
- Start multiple workers and verify the table adds them automatically.
- Verify status updates in real-time without page reloads.

## References

- SDD: Tier 1 Statistics section
- [htmx.org - WebSockets](https://htmx.org/extensions/web-sockets/)
