# Task: A01-T080: Fix Worker Metrics Overcounting

## Description
Investigate and fix the discrepancy between `worker_history` sums and actual nonces scanned. The `workers.total_keys_scanned` and `worker_history` were showing roughly 3x the actual value (~12B instead of ~4B) due to cumulative reporting being treated as deltas in checkpoints.

## Acceptance Criteria
- [x] Analyze the cause of overcounting in `worker_history`
- [x] Add `duration_ms` column to `jobs` table to track job-level cumulative duration
- [x] Update `UpdateCheckpoint` and `CompleteBatch` to store cumulative duration
- [x] Implement delta calculation in `checkpoint.go` and `complete.go`
- [x] Recalculate `workers.total_keys_scanned` from `jobs` table
- [x] Clear corrupted history tables (`worker_history`, `worker_stats_*`)
- [x] Verify sync status after cleanup

## Status
- **Completed**: February 17, 2026
- **Result**: Fixed server-side delta logic; recalculated worker totals; reset history.
