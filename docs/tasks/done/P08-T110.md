# P08-T110: Optimize memory: Use StaticTask_t for worker tasks to ensure no heap churn.

**Phase:** P08 - ESP32 Worker - Crypto & Computation  
**Status:** Not Started  
**Priority:** Medium  
**Dependencies:** P08-T070  
**Estimated Effort:** Small

---

## Description

Refactor the task creation logic to use static allocations for the FreeRTOS tasks. This avoids potential heap issues and ensures predictable memory usage throughout the application's life.

## Acceptance Criteria

- [ ] Use `xTaskCreateStaticPinnedToCore` for the Core 0 task.
- [ ] Use `xTaskCreateStaticPinnedToCore` for the Core 1 task.
- [ ] Allocate task stacks and `StaticTask_t` buffers in the global scope or as static local variables.
- [ ] Ensure the application no longer calls `xTaskCreate` (dynamic version) for worker tasks.

## Implementation Notes

- Static task creation is recommended by ESP-IDF for high-reliability systems.
- It prevents "out of memory" errors during task instantiation at runtime.

## Testing

- Verify application starts and tasks are pinned correctly to their cores.
- Check heap usage via `xPortGetFreeHeapSize` over time to ensure stability.

## References

- OVERVIEW: Dual-Core Logic section.
- SDD: Section 3.A (Worker Specifications - Memory).
