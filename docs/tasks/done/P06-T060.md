# P06-T060: Implement nonce range partitioning across workers

**Phase:** P06 - PC Worker - Crypto & Scanning Engine  
**Status:** Completed  
**Priority:** High  
**Dependencies:** P06-T050  
**Estimated Effort:** Small (< 1h)

**Completed:** 2026-02-16  
**Summary:** Implemented `PartitionNonceRange(start, end uint32, numWorkers int) []NonceRange` in `go/internal/worker/partition.go` and added thorough unit tests covering normal and edge cases in `partition_test.go`.

---

## Description

Extracted nonce range partitioning into a standalone, testable helper that:

- Returns contiguous, non-overlapping `NonceRange` partitions that cover the full inclusive range.
- Distributes remainder slots to the first partitions when the range doesn't divide evenly.
- Reduces `numWorkers` when the range contains fewer nonces than workers.
- Handles edge cases: `start > end`, `numWorkers <= 0`, single-nonce ranges.

## Files changed

- `go/internal/worker/partition.go` — `NonceRange` type and `PartitionNonceRange` implementation
- `go/internal/worker/partition_test.go` — unit tests (100/4, 101/4, smaller-than-workers, single-nonce, contiguity, start>end, non-positive workers)

## Testing

- Run: `cd go && go test ./internal/worker -run TestPartitionNonceRange -v` — all tests pass locally.

---

## Notes

- This helper can be used to replace the current ad-hoc partitioning in `ScanRangeParallel` if deterministic, pre-computed partitions are preferred over chunked producer queues.
