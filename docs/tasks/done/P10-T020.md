# P10-T020: Implement simple UI Authentication (Password via environment variable)

**Phase:** P10 - Dashboard & Monitoring UI  
**Status:** COMPLETED  
**Priority:** High  
**Dependencies:** [P10-T010]  
**Estimated Effort:** Small

---

## Description

Secure the dashboard using a simple password-based authentication mechanism. The password will be defined via the `DASHBOARD_PASSWORD` environment variable. This avoids the need for a database-backed user system.

## Acceptance Criteria

- [x] Create a `/login` page and handler.
- [x] Implement login logic that verifies the password against the environment variable.
- [x] Use a secure session cookie to track authentication status.
- [x] Implement a middleware that protects all `/dashboard/*` routes, redirecting unauthenticated users to `/login`.
- [x] Update Makefile rules to include `DASHBOARD_PASSWORD` as a mandatory environment variable.
- [x] Add unit tests for UI authentication logic.
- [x] Add a logout functionality.

## Implementation Notes

- Use `http.Cookie` with `HttpOnly` and `Secure: true` (when not in dev).
- Store a simple hash or token in the cookie that the server can verify.
- No database tables should be created for this.

## Testing

- Attempt to access the dashboard without logging in (should redirect).
- Log in with the correct password and verify access.
- Log in with the wrong password and verify error messaging.
- Verify logout clears the session.

## References

- User request: "protegida por senha via env var"
