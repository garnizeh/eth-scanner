# P08-T130: Long-haul Stress Test

**Phase:** P08 - ESP32 Worker - Crypto & Computation  
**Status:** Done  
**Priority:** High
**Dependencies:** P08-T120, P04-T050
**Estimated Effort:** Medium

---

## Description

Perform a long-duration stress test of the ESP32 worker running against a real Master API instance. The goal is to ensure stability over 30-60 minutes of continuous scanning, verify the lease renewal/completion cycle, and test resilience by simulating hardware resets during the process.

## Outcome

- Test completed. Minor improvements identified but not blocking for MVP.
- Completed At: 2026-02-18

## Acceptance Criteria (status)

- [x] Worker runs continuously for at least 30-60 minutes without crashes or watchdog triggers.
- [x] Master API correctly handles multiple checkpoint updates from the worker.
- [x] Simulated 2 manual hardware resets and verified NVS checkpoint resume.
- [x] Verified job completion and subsequent lease for new prefix/nonces.
- [x] Serial monitor showed consistent Keys/sec and successful HTTP responses.

## Implementation Notes

- Master API was run via `go run cmd/master/main.go`.
- Serial monitor used via PlatformIO device monitor for the ESP.
- Worker configuration verified in menuconfig.

## Testing

- Monitored `jobs` table in database for `current_nonce` and `status` updates.
- Verified checkpoint updates and lease behavior in DB and server logs.

## References

- SDD: Job Lifecycle.
- OVERVIEW: Dual-Core Logic.
