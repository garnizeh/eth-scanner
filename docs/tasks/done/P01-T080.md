# P01-T080: Setup GitHub Actions CI Workflow

**Phase:** P01 - Project Foundation & Setup  
**Status:** Completed  
**Priority:** High  
**Dependencies:** P01-T070  
**Estimated Effort:** Small

---

## Description

Create a GitHub Actions workflow to automatically run tests and verify build on every push and pull request. This ensures that changes do not break the build or regress tests.

---

## Acceptance Criteria

- [ ] `.github/workflows/ci.yml` file created
- [ ] Workflow triggers on `push` to `main` and `pull_request` to `main`
- [ ] Job `test` runs on `ubuntu-latest`
- [ ] Steps include:
    - Checkout code
    - Setup Go environment (latest stable or 1.22+)
    - Verify `sqlc` generation (optional but good)
    - Run `go mod tidy` check (ensure clean go.mod)
    - Run `go test ./...`
    - Run build (to ensure compilation)

---

## Implementation Notes

- Use `actions/checkout@v4`
- Use `actions/setup-go@v5`
- Go version should match `go.mod` (currently `1.22` or higher)
- Working directory for Go commands should be `go/` folder in the repo.

**Code Snippet:**
```yaml
name: CI

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  build:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: ./go

    steps:
    - uses: actions/checkout@v4

    - name: Set up Go
      uses: actions/setup-go@v5
      with:
        go-version: '1.24' # or match go.mod

    - name: Build
      run: go build -v ./...

    - name: Test
      run: go test -v ./...
```
